function [T,h1,m2,n3] = TransformationMatrix(xx,xy,xz,yx,yy,yz,zx,zy,zz,XX,XY,XZ,YX,YY,YZ,ZX,ZY,ZZ)
% This matrix transforms the element stiffness matrix from the local
% coordinate system to the global coordinate system.Its elements are the
% directional cosines with respect to the x,y,z axes.
xxx=[xx,xy,xz];XXX=[XX,XY,XZ];yyy=[yx,yy,yz];YYY=[YX,YY,YZ];zzz=[zx,zy,zz];ZZZ=[ZX,ZY,ZZ];

h1=dot(xxx,XXX)/(norm(xxx)*norm(XXX)); m1=dot(YYY,xxx)/(norm(YYY)*norm(xxx)); n1=dot(ZZZ,xxx)/(norm(ZZZ)*norm(xxx)); h2=dot(XXX,yyy)/(norm(XXX)*norm(yyy)); m2=dot(YYY,yyy)/(norm(YYY)*norm(yyy)); n2=dot(ZZZ,yyy)/(norm(ZZZ)*norm(yyy)); h3=dot(XXX,zzz)/(norm(XXX)*norm(zzz)); m3=dot(YYY,zzz)/(norm(YYY)*norm(zzz)); n3=dot(ZZZ,zzz)/(norm(ZZZ)*norm(zzz));
T(1,1)=h1;
T(1,2)=m1;
T(1,3)=n1;
T(1,4)=0;
T(1,5)=0;
T(1,6)=0;
T(1,7)=0;
T(1,8)=0;
T(1,9)=0;
T(1,10)=0;
T(1,11)=0;
T(1,12)=0;
T(2,1)=h2;
T(2,2)=m2;
T(2,3)=n2;
T(2,4)=0;
T(2,5)=0;
T(2,6)=0;
T(2,7)=0;
T(2,8)=0;
T(2,9)=0;
T(2,10)=0;
T(2,11)=0;
T(2,12)=0;
T(3,1)=h3;
T(3,2)=m3;
T(3,3)=n3;
T(3,4)=0;
T(3,5)=0;
T(3,6)=0;
T(3,7)=0;
T(3,8)=0;
T(3,9)=0;
T(3,10)=0;
T(3,11)=0;
T(3,12)=0;
T(4,1)=0;
T(4,2)=0;
T(4,3)=0;
T(4,4)=h1;
T(4,5)=m1;
T(4,6)=n1;
T(4,7)=0;
T(4,8)=0;
T(4,9)=0;
T(4,10)=0;
T(4,11)=0;
T(4,12)=0;
T(5,1)=0;
T(5,2)=0;
T(5,3)=0;
T(5,4)=h2;
T(5,5)=m2;
T(5,6)=n2;
T(5,7)=0;
T(5,8)=0;
T(5,9)=0;
T(5,10)=0;
T(5,11)=0;
T(5,12)=0;
T(6,1)=0;
T(6,2)=0;
T(6,3)=0;
T(6,4)=h3;
T(6,5)=m3;
T(6,6)=n3;
T(6,7)=0;
T(6,8)=0;
T(6,9)=0;
T(6,10)=0;
T(6,11)=0;
T(6,12)=0;
T(7,1)=0;
T(7,2)=0;
T(7,3)=0;
T(7,4)=0;
T(7,5)=0;
T(7,6)=0;
T(7,7)=h1;
T(7,8)=m1;
T(7,9)=n1;
T(7,10)=0;
T(7,11)=0;
T(7,12)=0;
T(8,1)=0;
T(8,2)=0;
T(8,3)=0;
T(8,4)=0;
T(8,5)=0;
T(8,6)=0;
T(8,7)=h2;
T(8,8)=m2;
T(8,9)=n2;
T(8,10)=0;
T(8,11)=0;
T(8,12)=0;
T(9,1)=0;
T(9,2)=0;
T(9,3)=0;
T(9,4)=0;
T(9,5)=0;
T(9,6)=0;
T(9,7)=h3;
T(9,8)=m3;
T(9,9)=n3;
T(9,10)=0;
T(9,11)=0;
T(9,12)=0;
T(10,1)=0;
T(10,2)=0;
T(10,3)=0;
T(10,4)=0;
T(10,5)=0;
T(10,6)=0;
T(10,7)=0;
T(10,8)=0;
T(10,9)=0;
T(10,10)=h1;
T(10,11)=m1;
T(10,12)=n1;
T(11,1)=0;
T(11,2)=0;
T(11,3)=0;
T(11,4)=0;
T(11,5)=0;
T(11,6)=0;
T(11,7)=0;
T(11,8)=0;
T(11,9)=0;
T(11,10)=h2;
T(11,11)=m2;
T(11,12)=n2;
T(12,1)=0;
T(12,2)=0;
T(12,3)=0;
T(12,4)=0;
T(12,5)=0;
T(12,6)=0;
T(12,7)=0;
T(12,8)=0;
T(12,9)=0;
T(12,10)=h3;
T(12,11)=m3;
T(12,12)=n3;



